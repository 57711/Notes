# react 生命周期

## 请求瀑布问题

App组件渲染后才开始请求数据，时机之后，导致child 依赖data 也滞后。

```js
function App() {
  const [data, update] = useState(null);
  useEffect(() => {
    fetch('http://...').then(res => update(res.json()))
  }, [])
  
  return <Child data={data}/>
}
```

### 解决：将请求数据的逻辑收敛到路由方案中

- 数据请求方案（解决数据流向问题）
- 路由方案（解决数据请求时机问题）
- 打包方案（解决懒加载的实现问题）

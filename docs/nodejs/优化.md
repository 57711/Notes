# 优化

## RAIL模型衡量前端性能

|  RAIL   | 指标  | 操作  |
|  ----  | ----  | ----  |
|response | <100ms | 用户事件|
|animation | <16ms |动画/页面滚动|
|idle | <50ms |保证主线程足够处理下一个用户事件|
|load | 1s | 页面加载|

## 缓存

nginx 缓存
redis 缓存

## nginx

动静分离，nginx 做静态资源，nginx 反响代理，负载均衡做动态数据

```conf
# 负载均衡，上位服务器
upstream node.com {
    server 127.0.0.1: 3000
    server 127.0.0.1: 3001
}
server {
    #静态资源
    root /root/static/

    location ~ /dynamic/path/(\d*) {
        proxy_pass http://node.com/detail?id=$1
        proxy_cache #缓存反向代理
    }
}


```
